# signalk-liblog

Log system interface library for Signal K node plugins.

Provides a small collection of methods suitable for writing messages
into the Signal K dashboard and the host system logs.

```
const Log = require("./lib/signalk-liblog/Log.js");

// Create new log instance, setting message prefix and normal and error callbacks.
const log = new Log(plugin.id, { ncallback: app.setProviderStatus, ecallback: app.setProviderError });

// Issue a "normal" message to the system log and normal callback.
log.N("server listening on UDP port");

// Issue an "error" message to just the system log.
log.E("server rejected invalid client", false);
```

## Constructor

__Log(*prefix* [, *options* ])__

Create a new Log instance.
*prefix* is arbitrary text that will be prepended to messages written to the
system log.
*options* is object perhaps containing the following properties.

*options*.ncallback - callback function to be used for normal messages (i.e.
those generated by a call to the ```N``` method.
Defaults to undefined.

*options*.wcallback - callback function to be used for warning messages (i.e.
those generated by a call to the ```W``` method.
Defaults to *options*.ncallback.

*options*.ecallback - callback function to be used for error messages (i.e.
those generated by a call to the ```E``` method.
Defaults to *options.ncallback.

*options*.prefixall - boolean value which if true causes *prefix* to be
prepended to all output (and not just system log output).
Defaults to false. 

## Methods

__N(*message* [, *nocallback* ])__

Write a 'normal' message of the form "*prefix*: *message*" to the system log
and, by default, pass a message of the form "*message*" to the normal callback
function defined when this Log object was instantiated. 

*message* is any arbitrary text.

*nocallback* is a boolean which if set to true prevents the callback. 

__W(*message* [, *nocallback* ])__

Write a 'warning' message of the form "*prefix*:warning: *message*" to the
system log and, by default, pass a message of the form "*message*" to the
warning callback function defined when this Log object was instantiated. 

*message* is any arbitrary text.

*nocallback* is a boolean which if set to true prevents the callback. 

__E(*message* [, *nocallback* ])__

Write an 'error' message of the form "*prefix*:error: *message*" to the system
log and, by default, pass a message of the form "*message*" to the error
callback function defined when this Log object was instantiated. 

*message* is any arbitrary text.

*nocallback* is a boolean which if set to true prevents the callback. 
